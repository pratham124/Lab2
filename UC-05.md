# Use Case UC-05: Upload Manuscript File

**Goal in Context**: Allow an author to upload a manuscript file in an accepted format so that the submission complies with conference rules.
**Scope**: Conference Management System (CMS)
**Level**: Subfunction
**Primary Actor**: Author
**Secondary Actors**: None
**Trigger**: The author selects the option to upload a manuscript file during paper submission.

## Success End Condition

- The manuscript file is successfully uploaded, validated, and associated as the single active manuscript on the author’s paper submission.

## Failed End Condition

- The manuscript file is not uploaded, and the system informs the author of the reason for failure.

## Preconditions

- The author is a registered user and is logged in.
- The author is in the process of submitting a paper.
- The CMS file upload service is available.
- Access to stored manuscripts is restricted to the submitting author and authorized CMS roles (Program Chair, Track Chair, Admin).
- Manuscripts are stored outside the public web root and are not accessible via direct public URLs.

## Main Success Scenario

1. The author selects the option to upload a manuscript file.
2. The system prompts the author to choose a file from their device.
3. The author selects a manuscript file in an accepted format (PDF, Word, or LaTeX as a single `.zip` archive).
4. The system validates the file format and file size against submission rules.
5. The system uploads the file to a private non-public storage path and associates it with the current paper submission.
6. If a prior manuscript exists, the system replaces it so only one active manuscript remains attached.
7. The system confirms that the file upload was successful.

## Extensions

- **3a**: The selected file is not in an accepted format.
  - **3a1**: The system rejects the file and displays an inline error message listing the acceptable formats (PDF, Word, LaTeX `.zip`).
- **4a**: The selected file exceeds the maximum allowed file size.
  - **4a1**: The system rejects the file and displays an inline error message indicating the size limit (7 MB).
- **5a**: A system or network error occurs during file upload.
  - **5a1**: The system displays an upload failure message and allows the author to retry.
- **5b**: The author triggers duplicate submits rapidly (double-click).
  - **5b1**: The system processes a single upload request via idempotency guard and prevents duplicate attachments.

## Related Information

- **Priority**: High
- **Frequency**: Medium
- **Open Issues**: None.

# UC-05 — Fully Dressed Scenario Narratives

## Main Success Scenario

An author who is logged into the Conference Management System is in the process of submitting a paper and chooses to upload a manuscript file. The system prompts the author to select a file from their local device. The author selects a manuscript file in an accepted format such as PDF, Word, or LaTeX (as a single `.zip` archive). The system validates the selected file to ensure that its format and size comply with the submission rules. After successful validation, the system uploads the file and associates it with the current paper submission. The system then confirms that the manuscript upload was completed successfully, allowing the author to continue the submission process.

---

## Alternative Path 3a — Unsupported File Format

The author selects a manuscript file that is not in one of the accepted formats. When the system checks the file format, it detects that the file type is not supported. The system rejects the upload attempt and displays an inline error message listing the acceptable formats (PDF, Word, LaTeX `.zip`). The author remains on the upload step and may choose a different file or abandon the upload. No file is stored or associated with the submission.

---

## Alternative Path 4a — File Exceeds Maximum Size Limit

The author selects a manuscript file that exceeds the maximum allowed file size. During validation, the system detects that the file size violates the submission constraints. The system halts the upload process and displays an inline error message indicating that the file is too large and specifying the maximum permitted size (7 MB). The author remains on the upload step and may select a smaller file. No file is uploaded or stored.

---

## Alternative Path 5a — System or Network Error During Upload

After the author selects a valid manuscript file, the system begins the upload process but encounters a system or network error before the upload completes. The system aborts the upload and displays a failure message indicating that the file could not be uploaded at this time. The error is handled gracefully, and the author is given the option to retry the upload or abandon the process. No incomplete or corrupted file is associated with the submission.

---

## Alternative Path 5b — Duplicate Submit Attempt

The author quickly submits the same upload request multiple times. The system uses an idempotency token and request guard to accept at most one upload for that action and ignores/rejects duplicates. The submission remains attached to one active manuscript with no duplicate artifacts.
